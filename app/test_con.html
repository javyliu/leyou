<!DOCTYPE HTML>
<html lang="zh-cn" ng-app>
  <head>
    <meta charset="UTF-8">
    <title>scope-event-propagation</title>
    <style type="text/css">
      .ng-cloak {
        display: none;
      }
    </style>
  </head>
  <body class="ng-cloak">
    <div ng-controller="MyController">
      root scope count:{{count}}
      <ul>
        <li >
        <button ng-click="$emit('click')">$emit("MyEvent")</button>
        <button ng-click="$broadcast('click')">$broadcast("MyEvent")</button>
        <br/>
        </li>
      </ul>
    </div>
    <script src="lib/angular/angular.js" type="text/javascript"></script>
    <script type="text/javascript">
      function MyController($scope) {
        $scope.count = 0;
        $scope.$watch("count",function(newdata,olddata) {
            console.log("------new data--------");
            console.log(newdata);
            console.log("------old data--------");
            console.log(olddata);
            });
        $scope.$on("click", function() {
            $scope.count++;
            });
      }
</script>
                                                                                                                                                                                  </body>
                                                                                                                                                                                  </html>
